String.prototype.contains=function(e){"use strict";return-1!==this.indexOf(e)};var Browser=function(e,r,t){"use strict";this.name=e,this.version=r,this.code=t},OS=function(e,r){"use strict";this.name=e,this.version=r},Device=function(e){"use strict";this.name=e},SystemInfo=function(e,r){"use strict";this.userAgent.value=void 0!==r&&null!==r?r:navigator.userAgent,this.browser=this.getBrowser(),this.os=this.getOS(),this.os.platform=this.getPlatform(),this.device=this.getDevice(),(void 0===r||null===r||e)&&this.verify()};SystemInfo.prototype={userAgent:{isFake:!1,value:navigator.userAgent},getSafariVersion:function(){"use strict";var e,r=this.userAgent.value;if(e=r.match(/Version\/([\.\d]+)/))return e[1];var t=r.match(/AppleWebKit\/(\d+)/)[1];switch(!0){case 85>t:return"0";case 412>t:return"1";case 522>t:return"2";case 528>t:return"3";case 533>t:return"4";case 536>t:return"5"}},getIEVersion:function(e){"use strict";switch(e){case 3:return"4.0";case 5:return"5.0";case 5.5:return"5.5";case 5.6:return"6.0";case 5.7:return window.XMLHttpRequest?"7.0":"6.0";case 5.8:return"8.0";case 9:return"9.0";case 10:return"10.0";default:return e}},getBrowser:function(){"use strict";var e,r,t=this.userAgent.value;if(e=t.match(/(Opera)(?:\/| )([\.\d]+)/))return r=window.opera?window.opera.version():e[2],new Browser(e[1],r,"Presto");if(e=t.match(/OPR\/([\.\d]+)/))return new Browser("Opera",e[1],"Blink");if(e=t.match(/(?:MSIE |Trident.+rv:)([\.\d]+)/))return new Browser("Internet Explorer",e[1],"Trident");if(e=t.match(/Navigator\/(9[\.\d]+)/))return new Browser("Netscape Navigator",e[1],"Gecko");if(e=t.match(/Netscape\/(8[\.\d]+)/))return new Browser("Netscape Browser",e[1],"Gecko");if(e=t.match(/(Netscape|Firefox)6?\/([\.\d]+)/))return new Browser(e[1],e[2],"Gecko");if(e=t.match(/(?:Chrome|CriOS)\/([\.\d]+)/))return r=e[1].slice(0,e[1].indexOf("."))<28?"WebKit":"Blink",new Browser("Google Chrome",e[1],r);if(t.contains("Safari"))return new Browser("Safari",this.getSafariVersion(),"WebKit");if(e=t.match(/(NetFront)\/([\.\d]+)/))return new Browser(e[1],e[2]);if(t.contains("PSP")){if(window.pspext){var n=window.pspext.sysGetEnv("x-psp-browser");if(n)return new Browser("NetFront ("+("LX"===n.match(/\((..);/)[1]?"XMB":"Application")+")")}return new Browser("NetFront")}return(e=t.match(/Mozilla\/([34][\.\d]+)/))?new Browser("Netscape "+{3:"Communicatior",4:"Navigator"}[e[1].charAt(0)],e[1]):t.contains("Mozilla")?new Browser("Mozilla"):{}},verify:function(){"use strict";var e=this.userAgent.value,r=void 0===this.browser.name;window.opera&&(r||"Opera"!==this.browser.name)&&(this.userAgent.isFake=!0,this.browser=new Browser("Opera",window.opera.version(),"Presto")),!window.Components||!r&&/(Firefox|Netscape)/.test(e)||(this.userAgent.isFake=!0,this.browser=new Browser("Firefox",void 0,"Gecko")),!window.chrome||"Safari"==this.browser.name||!r&&/(Chrome|Opera)/.test(e)||(this.userAgent.isFake=!0,this.browser=new Browser("Google Chrome",void 0,"WebKit")),!document.defaultView||!document.defaultView.getComputedStyle||window.Components||window.opera||window.chrome||document.documentMode||!r&&/Safari|CriOS|Chrome|Opera/.test(e)||(this.userAgent.isFake=!0,this.browser=new Browser("Safari",void 0,"WebKit")),void 0===document.documentMode||!r&&"Internet Explorer"===this.browser.name||(this.userAgent.isFake=!0,this.browser=new Browser("Internet Explorer"))},getPlatform:function(){"use strict";return this.userAgent.value.contains("WOW64")?"WOW64":navigator.platform},getWindowsNTVersion:function(e){"use strict";switch(e){case"NT 5.0":case"2000":return new OS("Windows 2000","NT 5.0");case"NT 5.1":case"NT 5.2":case"XP":return new OS("Windows XP","NT 5.1");case"NT 6.0":return new OS("Windows Vista",e);case"NT 6.1":return new OS("Windows 7",e);case"NT 6.2":return new OS("Windows 8",e);case"NT 6.3":return new OS("Windows 8.1",e);default:return new OS("Windows",e)}},getOS:function(){"use strict";var e,r=this.userAgent.value;if(e=r.match(/(Windows Phone(?: OS)?) ([\.\d]+)/))return new OS(e[1],e[2]);if(e=r.match(/Win(?:dows )?(NT [\.\d]+|XP|2000)/))return this.getWindowsNTVersion(e[1]);if(/Win(dows )? (9x 4\.90|ME|Me)/.test(r))return new OS("Windows Me","4.9");if(e=r.match(/Win(?:dows )?(95|98)/))return new OS("Windows "+e[1],{95:"4.0",98:"4.1"}[e[1]]);if(e=r.match(/(Mac OS X) ([_\.\d]+)/))return new OS(e[1],e[2].replace(/_/g,"."));if(e=r.match(/(iPhone|iPod|iPad)/))return(e=r.match(/OS ([_\d]+)/))?new OS("iOS",e[1].replace(/_/g,".")):new OS("iOS",void 0);if(e=r.match(/(Mac OS( X)?)/))return new OS(e[1],void 0);if(e=r.match(/(Android) ([\.\d]+)/))return new OS(e[1],e[2]);if(/(Kindle Fire|KFOT|KFTT|KFJW)/.test(r))return new OS("Android",void 0);if(e=r.match(/(Ubuntu|Linux|(Free|Net|Open)BSD)/))return new OS(e[1],void 0);if(r.contains("SunOS"))return new OS("Solaris",void 0);if(r.contains("PSP")){if(window.pspext){var t=window.pspext.sysGetEnv("x-psp-browser");if(t&&(e=t.match(/system=([\.\d]+)/)))return new OS("PSP",e[1])}return new OS("PSP",void 0)}return(e=r.match(/PlayStation Vita ([\.\d]+)/))?new OS("PS Vita",e[1]):{}},devices:{"Kindle Fire":"Kindle Fire (1st gen.)",KFOT:"Kindle Fire (2nd gen.)",KFTT:"Kindle Fire HD",KFJW:"Kindle Fire HD 8.9",Nitro:"Nintendo DS",PSP:"PlayStation Portable","PLAYSTATION 3":"PlayStation 3",PS2:"PlayStation 2"},getDevice:function(){"use strict";var e,r=this.userAgent.value;if(e=r.match(/(iPhone|iPod|iPad|PlayStation Vita|(Nintendo (Wii|DSi|3DS))|Xbox|BlackBerry ?\d+)/)||r.match(/Android [0-9A-Za-z\.\;\-\_\s]+; ([0-9A-Za-z\-\_ \/]+) Build/))return new Device(e[1]);for(var t in this.devices)if(r.contains(t))return new Device(this.devices[t]);return{}}};